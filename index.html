<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>XVideos Access - Multilingual</title>
<style>
body {
  margin:0;
  font-family: Arial, sans-serif;
  background: url('fon.png') no-repeat center center fixed;
  background-size: cover;
  color:#fff;
  overflow-x:hidden;
  display:flex;
  justify-content:center;
  align-items:flex-start;
}
#container {
  width:60%;
  max-width:1200px;
  background: rgba(0,0,0,0.55);
  padding:20px;
  border-radius:8px;
  box-shadow:0 7px 20px rgba(0,0,0,0.5);
  text-align:center;
  margin-top:80px;
}
.heading { font-size:22px; font-weight:bold; color:#ff4500; text-shadow:1px 1px 7px #000; margin-bottom:15px; }
.sub-heading { margin-top:20px; font-size:16px; font-weight:bold; color:#ff4500; }
.image-container { margin:15px 0; display:flex; justify-content:center; align-items:center; width:100%; }
.image-container img { max-width:100%; height:auto; object-fit:contain; border-radius:5px; cursor:pointer; }
.modal { display:flex; opacity:0; pointer-events:none; visibility:hidden; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; background-color:rgba(0,0,0,0.85); justify-content:center; align-items:center; transition: opacity 0.3s ease; }
.modal.show { opacity:1; pointer-events:auto; visibility:visible; }
.modal-content { background-color:#222; padding:20px; border-radius:10px; max-width:400px; width:90%; text-align:center; color:#fff; box-shadow:0 0 20px rgba(0,0,0,0.6); transform: translateY(-20px); opacity:0; transition: opacity 0.4s ease, transform 0.4s ease; }
.modal.show .modal-content { transform: translateY(0); opacity:1; }
.close-button, .unlock-btn, .password-btn { cursor:pointer; border:none; border-radius:5px; font-weight:bold; transition: all 0.3s ease; }
.close-button { background:#ff4500; color:#fff; padding:10px 20px; margin-top:15px; }
.close-button:hover { background:#ff6347; }
.password-btn { background:linear-gradient(90deg,#00ffcc,#3b82f6); color:#000; padding:10px 22px; margin-top:10px; }
.password-btn:hover { transform:translateY(-2px); opacity:0.98; }
.hacked-wrap { width:100%; max-width:340px; margin:15px auto; border-radius:16px; background: rgba(30,30,40,0.65); padding:20px; display:flex; flex-direction:column; align-items:center; box-shadow:0 8px 28px rgba(0,0,0,0.45); border:1px solid rgba(255,255,255,0.1); }
.password-container { width:100%; display:flex; flex-direction:column; align-items:center; margin-bottom:12px; }
.password-hint { margin-bottom:6px; font-size:14px; color:#ff4500; font-weight:bold; text-align:center; }
.password-field { width:100%; max-width:260px; padding:12px 14px; border-radius:8px; border:1px solid rgba(0,255,255,0.3); background: rgba(0,0,0,0.4); color:#00ffcc; font-weight:600; text-align:center; }
.notification { margin-top:8px; font-size:13px; color:#0ff; background: rgba(0,0,0,0.25); padding:6px 10px; border-radius:6px; border:1px solid rgba(0,255,255,0.15); opacity:0; transform:translateY(-4px); transition:opacity .22s ease, transform .22s ease; }
.notification.show { opacity:1; transform:translateY(0); }
#vpn-password-warning { display:none; color:#ff4d4d; font-size:14px; text-align:center; margin-top:6px; }
.modal-large { max-width:900px; width:90%; background: rgba(0,0,0,0.85); border-radius:5px; }
.iframe-wrapper { position:relative; cursor:pointer; width:100%; }
.iframe-wrapper iframe { width:100%; height:70vh; border:none; border-radius:8px; }
#iframeClickOverlay { position:absolute; top:0; left:0; width:100%; height:100%; cursor:pointer; }
@media(max-width:768px){
  #container{width:95%; margin-top:40px;}
  .modal-large{width:95%; margin:5% auto;}
  .iframe-wrapper iframe{height:60vh;}
  .close-button{width:100%; font-size:16px; padding:12px 0;}
}
</style>
</head>
<body>

<div id="container">
  <div class="heading" data-key="heading">WATCH FULL VIDEO!</div>
  <div class="image-container"><img src="ai_bot.png" alt="AI Bot" id="openModal" loading="lazy"></div>
  <div class="sub-heading" data-key="subHeading">490000+ EXCLUSIVE HD VIDEOS BY CATEGORY</div>
  <div class="image-container"><img src="ai_botfull.png" alt="AI Bot Full" loading="lazy"></div>
</div>

<div id="myModal" class="modal">
  <div class="modal-content">
    <p data-key="surveyText">TAKE A QUICK SURVEY ON</p>
    <img id="modal-device-img" src="hacked1.png" alt="hacked" style="width:150px; margin:10px auto; display:block;">
    <p data-key="videoAuto">THE VIDEO WILL START AUTOMATICALLY</p>
    <div class="hacked-wrap">
      <div class="password-container">
        <div class="password-hint" data-key="passwordHint">PASSWORD TO UNLOCK</div>
        <input class="password-field" type="text" id="generated-password" readonly placeholder="Generated Password">
      </div>
      <button class="password-btn" id="copy-password" data-key="copyBtn">COPY PASSWORD</button>
      <div class="notification" id="notification">Password copied</div>
      <div id="vpn-password-warning">⚠️ Will not work while using VPN/Proxy!</div>
    </div>
    <button class="close-button" id="openLink" data-key="readyBtn">I'm ready</button>
  </div>
</div>

<div id="iframeModal" class="modal">
  <div class="modal-content modal-large">
    <div class="iframe-wrapper" id="iframeWrapper">
      <iframe src="" allowfullscreen></iframe>
      <div id="iframeClickOverlay"></div>
    </div>
    <button class="close-button" onclick="closeIframeModal()" data-key="closeBtn">Close</button>
  </div>
</div>

<script>
// --- Переводы ---
const translations = {
  "en": { heading:"WATCH FULL VIDEO!", subHeading:"490000+ EXCLUSIVE HD VIDEOS BY CATEGORY", surveyText:"TAKE A QUICK SURVEY ON", videoAuto:"THE VIDEO WILL START AUTOMATICALLY", passwordHint:"PASSWORD TO UNLOCK", copyBtn:"COPY PASSWORD", readyBtn:"I'm ready", closeBtn:"Close", notificationCopied:"Password copied", vpnWarning:"Will not work while using VPN/Proxy!" }
};

// --- Язык ---
function setLanguageByRegion(langCode){
  langCode = langCode.toLowerCase();
  return translations[langCode] || translations[langCode.split('-')[0]] || translations['en'];
}
const userLangCode = navigator.language || 'en';
const selectedTranslation = setLanguageByRegion(userLangCode);
document.querySelectorAll('[data-key]').forEach(el=>{
  const key = el.getAttribute('data-key');
  if(selectedTranslation[key]) el.textContent = selectedTranslation[key];
});
document.getElementById("vpn-password-warning").textContent = selectedTranslation.vpnWarning || "Will not work while using VPN/Proxy!";

// --- Модалки ---
function toggleModal(modalId, show=true){
  const modal = document.getElementById(modalId);
  if(show) modal.classList.add("show");
  else modal.classList.remove("show");
}

// --- Картинка модалки ---
function setModalImageByDevice() {
  const ua = navigator.userAgent || navigator.vendor || window.opera;
  const img = document.getElementById("modal-device-img");
  img.src = /android/i.test(ua) ? "hacked1.png" : "hacked2.png";
}

// --- Генератор пароля ---
function generatePassword(len=15){
  const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+";
  return Array.from({length: len}, ()=>chars[Math.floor(Math.random()*chars.length)]).join('');
}
document.addEventListener("DOMContentLoaded",()=>{
  document.getElementById("generated-password").value = generatePassword(15 + Math.floor(Math.random()*3));
});

// --- Копирование пароля ---
document.getElementById("copy-password").onclick = () => {
  const field = document.getElementById("generated-password");
  if(!field.value) return;
  navigator.clipboard.writeText(field.value).then(()=>{
    const note = document.getElementById("notification");
    note.textContent = selectedTranslation.notificationCopied || "Password copied";
    note.classList.add("show");
    setTimeout(()=>note.classList.remove("show"),1500);
  });
};

// --- Оффер URL ---
function getOfferURL(){
  const ua = navigator.userAgent || navigator.vendor || window.opera;
  if (/android/i.test(ua)) return "https://onykp.com/link?z=10245897&var={SOURCE_ID}&ymid={CLICK_ID}";
  if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) return "https://wr22mrh.funmeet-thegroup.com/cadphtw";
  return "https://wr22mrh.funmeet-thegroup.com/cadphtw";
}

// --- Открытие модалки ---
document.getElementById("openModal").onclick = ()=>{
  setModalImageByDevice();
  toggleModal("myModal", true);
};

document.getElementById("openLink").onclick = ()=>{
  toggleModal("myModal", false);
  const iframe = document.querySelector("#iframeModal iframe");
  iframe.src = getOfferURL();
  toggleModal("iframeModal", true);

  // прозрачный слой для клика
  const overlay = document.getElementById("iframeClickOverlay");
  overlay.style.display = "block";
  overlay.onclick = ()=>{ window.open(getOfferURL(), "_blank"); overlay.style.display = "none"; };
};

// --- Закрытие iframe ---
function closeIframeModal(){
  const iframe = document.querySelector("#iframeModal iframe");
  iframe.src = "";
  toggleModal("iframeModal", false);
}

// --- VPN/Proxy предупреждение ---
async function getPublicIP(){try{const res=await fetch("https://api64.ipify.org?format=json"); const data=await res.json(); return data.ip;}catch(e){return null;}}
function getWebRTCPublicIPs(callback){
  const ips=new Set();
  const pc=new RTCPeerConnection({iceServers:[]});
  pc.createDataChannel("");
  pc.onicecandidate = e => {
    if(!e.candidate) return;
    const match = e.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3})/);
    if(match) ips.add(match[1]);
  };
  pc.createOffer().then(o=>pc.setLocalDescription(o)).catch(console.error);
  setTimeout(()=>callback(Array.from(ips)),1000);
}
async function showVPNPasswordWarning(){
  const serverIP = await getPublicIP();
  if(!serverIP) return;
  getWebRTCPublicIPs(webRTCIPs=>{
    const publicIPs = webRTCIPs.filter(ip=>!ip.startsWith("10.")&&!ip.startsWith("192.168.")&&!ip.startsWith("172."));
    if(publicIPs.length===0 || !publicIPs.includes(serverIP)) document.getElementById("vpn-password-warning").style.display="block";
  });
}
window.addEventListener("load", showVPNPasswordWarning);
</script>

</body>
</html>
